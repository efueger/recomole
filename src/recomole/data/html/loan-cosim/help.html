<html>
  <body>

    <h2>Loan cosimilarity Recommender</h2>
    
    Recommender based on user loans.

    <h4>Request</h4>

    The service provides one post method that takes a json structure, with the following keys:

    <ul>
      <li><b>like</b>: List of pids to base recommendation on</li>
      <li><b>dislike</b>: List of pids to base recommendation on (not used at the moment)</li>
      <li><b>start</b>: Paging. first row to return (defaults to 0)</li>
      <li><b>rows</b>: Paging. Number of rows to return</li>
      <li><b>ignore</b>: List of pids to ignore (the work they belong to will not be returned in recommendation list)</li>
      <li><b>filters</b>: object containing filters to apply to recommendations</li>
      <li><b>boosters</b>: object containing boosters to apply to recommendations (not implemented yet)</li>
    </ul> 

    <h4>Filters</h4>
    Filters are used to filter unwanted recommendations from the result.

    Supported filters:
    <ul>
      <li><b>authorFlood</b>: The maximum number of recommendations from a single author in the result</li>
      <li><b>subject</b>: List of subjects. Only materials with one of these subjects are returned</li>
      <li><b>matType</b>: List of material types. Only materials with one of these subjects are returned</li>
      <li><b>language</b>: List of languages. Only materials with one of these subjects are returned</li>
      </ul>
    
    <h4>Boosters</h4>
    Boost recommendations and change the ranking of resultset (not implemented yet).
    
   <h4>Response</h4>
   
   Each <i>response</i> item consists of a recommended pid and some additional info.
   The info object consists of the following keys:

   <ul>
     <li><b>pid</b>: pid in recommended work with highest loancount</li>
     <li><b>work</b>: Recommmended work</li>
     <li><b>val</b>: Similarity value</li>
     <li><b>debug-creator</b>: Creator of recommended work (should only be used for debugging)</li>
     <li><b>debug-title</b>: Title of recommended work (should only be used for debugging)</li>
     <li><b>loancount</b>: Number of loans of recommended pid</li>
     <li><b>from</b>: recommendations based in this item</li>
   </ul>
    
   The <i>responseHeader</i> consists timings and other forms of metadata.</br></br>
   <hr>
   @EXAMPLE@
   </br></br></br></br>
  </body>
</html>
